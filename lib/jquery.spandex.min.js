((function(){var a;a=jQuery,a.fn.spandex=function(b){var c,d,e,f,g=this;return e=a.browser.msie&&a.browser.version<=7,c=function(a,b,c,d){var e,f,g,h,i,j;return i=c/d,a/i>b?(f=a,e=a/c*d,h=(a/i-b)/2,g=0,j=a/c):(e=b,f=b/d*c,h=0,g=(f-a)/2,j=b/d),{width:Math.ceil(f),height:Math.ceil(e),top:h,left:g,ratio:i,scale:j}},f=function(b,d,e){var f,h,i,j;return j=function(){var b;return b=e.fullscreen?a(window).width():g.width(),b-=e.offset.left+e.offset.right,b>=e.min.width?b:e.min.width},i=function(){var b;return b=e.fullscreen?a(window).height():g.height(),b-=e.offset.top+e.offset.bottom,b>=e.min.height?b:e.min.height},j=j(),i=i(),b.css(a.extend({height:i,width:j},e.offset)),f=c(j,i,e.image.width,e.image.height),h={top:0,left:0,width:f.width,height:f.height},e.centeredY&&(h.top="-"+f.top+"px"),e.centeredX&&(h.left="-"+f.left+"px"),d.css(h),g.trigger("stretch",{wrapper:{height:i,width:j,offset:e.offset},image:{height:f.width,width:f.height,offset:{top:f.top,left:f.left},ratio:f.ratio,scale:f.scale}})},d={init:function(b){return this.each(function(){var c;return c=a('<div class="spandex"/>'),c.css(a.extend({left:0,top:0,position:"fixed",overflow:"hidden",zIndex:-999999,margin:0,padding:0,height:"100%",width:"100%"},b.wrapper)),c.data("spandex",a.extend({speed:0,centeredX:!0,centeredY:!0,defer:0,min:{width:0,height:0},offset:{top:0,bottom:0,left:0,right:0},fullscreen:!0},b)),a(this).append(c).bind("change.spandex",b.change).bind("stretch.spandex",b.stretch)}),b.use?d.use.call(this,b.use):this},destroy:function(){return this.trigger("destroy")},stretch:function(){return a(this).resize()},use:function(b,c){var d=this;return this.each(function(g,h){var i,j,k,l,m;return j=a(h).find(".spandex"),m=j.data("spandex"),i=a("<img />").css({position:"absolute",display:"none",margin:0,padding:0,border:"none",zIndex:-999999}),l=function(){var b;return j.find("img").fadeOut(m.speed,function(){return a(this).remove()}),j.append(i),i.fadeIn(m.speed),m.image={width:i.width(),height:i.height()},j.data("spandex",m),b=function(){var a;a=function(){return f(j,i,m)};if(!e)return a();try{return a()}catch(b){}},b(),d.trigger("change",i),c&&c.call(d,i,values),a(window).on("resize",b),d.one("destroy",function(){return d.unbind(".spandex"),a(window).off("resize",b),j.remove()})},k=function(){var a;return clearTimeout(j.data("spandex.timeout")),m.defer!==0?(a=setTimeout(l,m.defer),j.data("spandex.timeout",a)):l()},i.one("load",k).attr("src",b).each(function(){if(this.complete)return a(this).load()})})}},d[b]?d[b].apply(this,Array.prototype.slice.call(arguments,1)):typeof b=="object"||!b?d.init.apply(this,arguments):a.error("Method "+b+" does not exist on jQuery.spandex")}})).call(this);