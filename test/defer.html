<!DOCTYPE html>
<html>
<head>
  <title>Spandex Test</title>
  <meta name = "viewport" content = "user-scalable=no, initial-scale=1.0, maximum-scale=1.0, width=device-width">
  <meta name="apple-mobile-web-app-capable" content="yes"/>
  <link href="test.css" media="all" rel="stylesheet" type="text/css" />
  <script src="jquery/jquery-1.7.1.js" type="text/javascript"></script>
  <script src="../lib/jquery.spandex.js" type="text/javascript"></script>
</head>
<body>
  <h1>Spandex</h1>
  <div class="controls">
    <h2>Should:</h2>
    <ol>
      <li>should load image then defer animation &#10004;</li>
      <li>should no not queue up function calls &#10004;</li>
    </ol>
    <button class="change" data-image="images/normal.jpg">normal</button>
    <button class="change" data-image="images/panoramic.jpg">panoramic</button>
    <button class="change" data-image="images/tall.jpg">tall</button>
  </div>
<script>
  $(function() {
    $('body').spandex({
      speed: 'slow',
      defer: 2000
    }, "images/tall.jpg");

    $(".controls button.change").on('click', function(event){
      event.preventDefault();
      target = $(this).data('target');
      body.spandex('use', $(this).data('image'));
    });
  });
</script>
</body>
