<!DOCTYPE html>
<html>
<head>
  <title>Spandex Test</title>
  <meta name = "viewport" content = "user-scalable=no, initial-scale=1.0, maximum-scale=1.0, width=device-width">
  <meta name="apple-mobile-web-app-capable" content="yes"/>
  <link href="test.css" media="all" rel="stylesheet" type="text/css" />
  <script src="jquery/jquery-1.7.1.js" type="text/javascript"></script>
  <script src="../lib/jquery.spandex.js" type="text/javascript"></script>
</head>
<body>
  <h1>Spandex</h1>
  <h2 class="massage"></h2>
  <div class="controls">
    <h2>Should:</h2>
    <ol>
      <li>should trigger change callback &#10004;</li>
      <li>should trigger resize callback &#10004;</li>
      <li>should call callback as argument &#10004;</li>
    </ol>
    <button class="change" data-image="images/normal.jpg">normal</button>
    <button class="change" data-image="images/panoramic.jpg">panoramic</button>
    <button class="change" data-image="images/tall.jpg">tall</button>
  </div>
<script>
  $(function() {
    body = $('body');

    body.spandex({ speed: 500 });

    body.on('change', function(event, $image){
      console.log("change callback", arguments);
    });

    body.on('stretch', function(event, updated) {
      console.log("stretch callback", arguments);
    });

    body.spandex('use', "images/tall.jpg", function($image) {
      console.log("callback as argument", arguments);
    });

    $(".controls button.change").on('click', function(event){
      event.preventDefault();
      target = $(this).data('target');
      body.spandex('use', $(this).data('image'));
    });
  });
</script>
</body>
